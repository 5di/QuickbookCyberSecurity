## dns域传送漏洞 {#dns}

[http://www.wooyun.org/bugs/wooyun-2010-04546](http://www.wooyun.org/bugs/wooyun-2010-04546)

1\. 了解如何对一个网络目标进行信息收集:

ping www.baidu.com

nmap sp 192.168.0.1-255 查看存活主机

telnet www.baidu.com 3306

Whois www.baidu.com

2.了解特定网络的拓扑结构

3.了解防范DNS区域传送:

区域传送（Zone Transfer）是在多个DNS服务器之间复制区域数据库文件的过程。主要通过拷贝过程完成。

nslookup实现区域传送具体实现:

C:\Documents and Settings\Administrator&gt;nslookup

Default Server: ns.lnpta.net.cn //默认NS

Address: 202.96.64.68 //IP

================================================

&gt; set type=soa  权威

================================================

&gt;&gt; goplayplay.com

Server: ns.lnpta.net.cn

Address: 202.96.64.68

Non-authoritative answer:

goplayplay.com

primary name server = feed19.nameservers.net //DNS

responsible mail addr = hostmaster.rapidsite.net

serial = 2010071223

refresh = 7200 (2 hours)

retry = 3600 (1 hour)

expire = 604800 (7 days)

default TTL = 86400 (1 day)

goplayplay.com nameserver = ns19a.nameservers.net

goplayplay.com nameserver = ns19b.nameservers.net

ns19a.nameservers.net internet address = 161.58.75.72

ns19a.nameservers.net internet address = 161.58.134.98

ns19b.nameservers.net internet address = 198.170.241.2

ns19b.nameservers.net internet address = 161.58.134.114

=======================下面进行区域传送,将自己的DNS设置成对方的=======================

&gt; server feed19.nameservers.net

Default Server: feed19.nameservers.net //已经将DNS设置成为对方的

Address: 161.58.134.130 //IP

================================================

&gt;ls -d goplayplay.com    //下面显示详细信息,即成功进行了区域传送,可以显示出所有的DNS记录